Quickstart
==========

quickstart instructions will be improved soon



A few examples are given in the examples folder.
Important to run a workflow:
- Launchpad is connecting to the Fireworks internal MongoDB database. 
- Reset the launchpad only if you have no other workflow running!
- Upload without error. 
- There is a second, permanent MongoDB database. username and password are supplied as arguments to the workflow. If you want to use a database other than the default (testdb), specify it in the extdb_connect argument as a dictionary.
- worker_target_path should be an absolute path to the directory where the DFT calculations should be run.
- Once the workflow is added to the launchpad, the jobs can be run through a simple script running in the background of your computing ressource. It can be found in utils. Please provide the same launchpad information there, too (especially username, password). Make sure to adapt the ressources you need in lightweight, medium and dft jobs (The jobs are already precategorized). E.g. machine learning is categorized as medium but its runtime depends on the amount of datapoints, so choose the walltime accordingly. A file called autogenerated_launchpad.yaml is generated which is the yaml representation of the launchpad specified in python.


In order to see whether a job is running, use a classical mechanics cp2k input template first.
e.g. in tests/lj_runs you can find examples which are not heavy. You can also skip the DFT step entirely setting the argument skip_dft = True
You can allocate ressources using salloc and then run a small workflow with 
```sh
rlaunch -l autogenerated_launchpad.yaml rapdifire
```

Query the status of your workflow with the fireworks command line tool. See lpad --help
Query the results in the permanent database through pymongo or the mongo shell. In the future, an API will be provided to facilitate a fast examination of the results. Useful scripts are beeing added to the folder gui.


0. Go to tests/lj_runs

1. Change worker_target_path, username and password in nanoclusters.py

2. python3 nanoclusters.py

3. Change username and password in z_queuelooper.py

4. python3 z_queuelooper.py

5. In another terminal, check the status with 
lpad -l autogenerated_launchpad.yaml get_fws

